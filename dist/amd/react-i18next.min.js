define(["exports","react"],function(e,n){"use strict";var t="default"in n?n.default:n;function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){r(e,n,t[n])})}return e}function i(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},s=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,l=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,u=Object.create?Object.create(null):{};function f(e,n,t,r,o){var i=n.indexOf("<",r),a=n.slice(r,-1===i?void 0:i);/^\s*$/.test(a)&&(a=" "),(!o&&i>-1&&t+e.length>=0||" "!==a)&&e.push({type:"text",content:a})}function p(e,n){switch(n.type){case"text":return e+n.content;case"tag":return e+="<"+n.name+(n.attrs?function(e){var n=[];for(var t in e)n.push(t+'="'+e[t]+'"');return n.length?" "+n.join(" "):""}(n.attrs):"")+(n.voidElement?"/>":">"),n.voidElement?e:e+n.children.reduce(p,"")+"</"+n.name+">"}}var d={parse:function(e,n){n||(n={}),n.components||(n.components=u);var t,r=[],o=-1,i=[],a={},p=!1;return e.replace(l,function(l,u){if(p){if(l!=="</"+t.name+">")return;p=!1}var d,g="/"!==l.charAt(1),h=0===l.indexOf("\x3c!--"),m=u+l.length,y=e.charAt(m);g&&!h&&(o++,"tag"===(t=function(e){var n,t=0,r=!0,o={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return e.replace(s,function(i){if("="===i)return r=!0,void t++;r?0===t?((c[i]||"/"===e.charAt(e.length-2))&&(o.voidElement=!0),o.name=i):(o.attrs[n]=i.replace(/^['"]|['"]$/g,""),n=void 0):(n&&(o.attrs[n]=n),n=i),t++,r=!1}),o}(l)).type&&n.components[t.name]&&(t.type="component",p=!0),t.voidElement||p||!y||"<"===y||f(t.children,e,o,m,n.ignoreWhitespace),a[t.tagName]=t,0===o&&r.push(t),(d=i[o-1])&&d.children.push(t),i[o]=t),(h||!g||t.voidElement)&&(h||o--,!p&&"<"!==y&&y&&f(d=-1===o?r:i[o].children,e,o,m,n.ignoreWhitespace))}),!r.length&&e.length&&f(r,e,0,0,n.ignoreWhitespace),r},stringify:function(e){return e.reduce(function(e,n){return e+p("",n)},"")}};let g,h,m={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",useSuspense:!0};const y=t.createContext();function b(){return h}function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m=o({},m,e)}function O(){return m}class j{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function E(e){g=e}function S(){return g}const w={type:"3rdParty",init(e){v(e.options.react),E(e)}};function x(e){return n=>new Promise(t=>{const r=I();e.getInitialProps?e.getInitialProps(n).then(e=>{t(o({},e,r))}):t(r)})}function I(){const e=S(),n=e.reportNamespaces?e.reportNamespaces.getUsedNamespaces():[],t={},r={};return e.languages.forEach(t=>{r[t]={},n.forEach(n=>{r[t][n]=e.getResourceBundle(t,n)||{}})}),t.initialI18nStore=r,t.initialLanguage=e.language,t}function N(){if(console&&console.warn){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),console.warn.apply(console,n)}}const k={};function P(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];"string"==typeof n[0]&&k[n[0]]||("string"==typeof n[0]&&(k[n[0]]=new Date),N(...n))}function A(e,n,t){e.loadNamespaces(n,()=>{if(e.isInitialized)t();else{const n=()=>{setImmediate(()=>{e.off("initialized",n)}),t()};e.on("initialized",n)}})}function T(e){return e&&(e.children||e.props&&e.props.children)}function z(e){return e&&e.children?e.children:e.props&&e.props.children}function C(e,n,r){if(""===n)return[];if(!e)return[n];const i={};!function e(n){"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),n.forEach(n=>{"string"!=typeof n&&(T(n)?e(z(n)):"object"!=typeof n||t.isValidElement(n)||Object.assign(i,n))})}(e),n=r.services.interpolator.interpolate(n,i,r.language);const a=function e(n,r){return"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),"[object Array]"!==Object.prototype.toString.call(r)&&(r=[r]),r.reduce((r,i,a)=>{if("tag"===i.type){const c=n[parseInt(i.name,10)]||{},s=t.isValidElement(c);if("string"==typeof c)r.push(c);else if(T(c)){const n=e(z(c),i.children);c.dummy&&(c.children=n),r.push(t.cloneElement(c,o({},c.props,{key:a}),n))}else if("object"!=typeof c||s)r.push(c);else{const e=i.children[0]?i.children[0].content:null;e&&r.push(e)}}else"text"===i.type&&r.push(i.content);return r},[])}([{dummy:!0,children:e}],d.parse("<0>".concat(n,"</0>")));return z(a[0])}function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.i18n,i=(b()?n.useContext(y):{}).i18n,c=r||i||S();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new j),!c){P("You will need pass in an i18next instance by using i18nextReactModule");const e=[e=>e,{},!0];return e.t=(e=>e),e.i18n={},e.ready=!0,e}const s=o({},O(),c.options.react);let l=e||c.options&&c.options.defaultNS;l="string"==typeof l?[l]:l||["translation"],c.reportNamespaces.addUsedNamespaces&&c.reportNamespaces.addUsedNamespaces(l);const u=(c.isInitialized||c.initializedStoreOnce)&&l.every(e=>(function(e,n){if(!n.languages||!n.languages.length)return P("i18n.languages were undefined or empty",n.languages),!0;const t=n.languages[0],r=!!n.options&&n.options.fallbackLng,o=n.languages[n.languages.length-1];if("cimode"===t.toLowerCase())return!0;const i=(e,t)=>{const r=n.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===r||2===r};return!!n.hasResourceBundle(t,e)||!n.services.backendConnector.backend||!(!i(t,e)||r&&!i(o,e))})(e,c)),f=a(n.useState({t:c.getFixedT(null,l[0])}),2),p=f[0],d=f[1];function g(){d({t:c.getFixedT(null,l[0])})}n.useEffect(()=>{const e=s.bindI18n,n=s.bindI18nStore;return e&&c&&c.on(e,g),n&&c&&c.store.on(n,g),()=>{e&&c&&e.split(" ").forEach(e=>c.off(e,g)),n&&c&&n.split(" ").forEach(e=>c.store.off(e,g))}});const h=[p.t,c,u];if(h.t=p.t,h.i18n=c,h.ready=u,u)return h;const m=t.useSuspense,v=void 0===m?s.useSuspense:m;if(!u&&!v)return A(c,l,()=>{g()}),h;throw new Promise(e=>{A(c,l,()=>{g(),e()})})}function R(e,t){const r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).i18n,o=(b()?n.useContext(y):{}).i18n,i=r||o||S();e&&!i.initializedStoreOnce&&(i.services.resourceStore.data=e,i.initializedStoreOnce=!0),t&&!i.initializedLanguageOnce&&(i.changeLanguage(t),i.initializedLanguageOnce=!0)}e.Trans=function(e){let r=e.children,a=e.count,c=e.parent,s=e.i18nKey,l=e.tOptions,u=e.values,f=e.defaults,p=e.components,d=e.ns,g=e.i18n,h=e.t,m=i(e,["children","count","parent","i18nKey","tOptions","values","defaults","components","ns","i18n","t"]);const v=(b()?n.useContext(y):{}).i18n,O=g||v||S();if(!O)return P("You will need pass in an i18next instance by using i18nextReactModule"),r;const j=h||O.t.bind(O),E=O.options&&O.options.react||{},w=void 0!==c?c:E.defaultTransParent;let x=p||r;u&&(x=x?x instanceof Array?x.slice(0):[x]:[],Object.keys(u).forEach(e=>{const n=u[e];if(t.isValidElement(n)){const r=x.length,i=t.cloneElement(n,o({},n.props,{key:r}),n.children);x.push(i),u[e]="<".concat(r,"></").concat(r,">")}}));const I=f||function e(n,r,i){return r?("[object Array]"!==Object.prototype.toString.call(r)&&(r=[r]),r.forEach((r,i)=>{const a="".concat(i);if("string"==typeof r)n="".concat(n).concat(r);else if(T(r))n="".concat(n,"<").concat(a,">").concat(e("",z(r),i+1),"</").concat(a,">");else if(t.isValidElement(r))n="".concat(n,"<").concat(a,"></").concat(a,">");else if("object"==typeof r){const e=o({},r),t=e.format;delete e.format;const i=Object.keys(e);t&&1===i.length?n="".concat(n,"{{").concat(i[0],", ").concat(t,"}}"):1===i.length?n="".concat(n,"{{").concat(i[0],"}}"):N("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",r)}else N("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",r)}),n):""}("",r)||E.transEmptyNodeValue,k=E.hashTransKey,A=s||(k?k(I):I),L=A?j(A,o({},l,u,u?{}:{interpolation:{prefix:"#$?",suffix:"?$#"}},{defaultValue:I,count:a,ns:d})):I;return w?t.createElement(w,m,C(x,L,O)):C(x,L,O)},e.useTranslation=L,e.withTranslation=function(e){return function(n){return function(r){const i=a(L(e,r),3),c=i[0],s=i[1],l=i[2];return t.createElement(n,o({},r,{t:c,i18n:s,tReady:l}))}}},e.Translation=function(e){const n=e.ns,t=e.children,r=a(L(n,i(e,["ns","children"])),3),o=r[0],c=r[1],s=r[2];return t(o,{i18n:c,lng:c.language},s)},e.I18nextProvider=function(e){let n=e.i18n,r=e.children;return h=!0,t.createElement(y.Provider,{value:{i18n:n}},r)},e.withSSR=function(){return function(e){function n(n){let r=n.initialI18nStore,a=n.initialLanguage,c=i(n,["initialI18nStore","initialLanguage"]);return R(r,a),t.createElement(e,o({},c))}return n.getInitialProps=x(e),n}},e.useSSR=R,e.initReactI18next=w,e.setDefaults=v,e.getDefaults=O,e.setI18n=E,e.getI18n=S,e.composeInitialProps=x,e.getInitialProps=I,Object.defineProperty(e,"__esModule",{value:!0})});
